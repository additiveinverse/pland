@import '_variables';
@import 'lesshat';
@import '_mixins';

@import '_grid';
@import '_utilities';
@import '_sprite';

@font-face {
	.font-face('typicons', '../fonts/typicons', 'normal', 'normal');
}

#decor {
	.content-border(@color: fade( @yellow, 50%) ) {
		border-top: 12px solid @color;
	}

	.tile( @color: @yellow ) {
		.diagonals( @color );
		.background-size( 9px 21px );
		background-repeat: repeat-x;
	}

	.diagonals( @color: @yellow ) {
		background-image: linear-gradient(45deg,
			transparent 26%,
			fade( @color, 25%) 30%,
			transparent 34%,
			transparent 58%,
			fade( @color, 25%) 60%,
			transparent 64%,
			transparent 88%,
			fade( @color, 25%) 90%,
			transparent 94%
			);
	}

	.little_box_base {
		.size(28px, 6px);
		._inject();
		.inline-block();
		position: absolute;
		top: -12px;
		margin-left: 35px;
	}

	.lil_box( @color ) {
		position: relative;
		&:before {
			&:extend( #decor .little_box_base );
			background-color: @color;
		}
	}
}

.width-half {
	width: calc( ~"100% / 2" - 3.25rem );
	.inline-block();
}

.post-content {
	#decor .lil_box( rgb(39, 52, 56) );
}

.search {
	&-fld {
		text-align: right;
		margin: @base-margin-half 0 @base-margin-quarter;
		position: relative;
		&:extend(.width-half);

		&-txt {
			.font-size( @base-type-h4, 1.2 );
		}

		&-lbl {
			font-size: 0;
			.icon( "pre", @eye, @blue, @base-type-h2, 1.9 );
		}

		&-reset {
			padding: @base-margin-half @base-margin;
		}
	}
}
@import 'navigation';
@import 'discog';
.page {
	&-hdr {
		&:after {
			position: absolute;
			top: -12px;
			right: 0;
			._inject();
			display: inline-block;
			border: 6px solid;
			border-color: transparent @blue-dark @blue-dark transparent;
		}

		&:before {
			._inject();
			width: 100%;
			display: block;
			border-top: solid 12px fade( @orange, 50%);
			position: absolute;
			top: -12px;
			left: 0;
		}

		&-ttl {
			text-shadow: -1px -1px 0 multiply(fade(@yellow, 75%), @blue-dark);
			font-family: @base-type;
			.font-size( @base-type-h3, 2.5 );

			&-lnk {
				.lnk( fade(@yellow, 20%) );
				position: relative;
				top: 8px;
			}
		}
	}
}

// 320px
@media only screen and ( min-width: 320px ) {
	body {
		@background-bodyimage: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB3aWR0aD0nMjAwJyBoZWlnaHQ9JzMwMCcgdmlld0JveD0nMCAwIDIwMCAzMDAnPgoJPGZpbHRlciBpZD0nZnV6eicgeD0nMCcgeT0nMCc+CgkJPGZlVHVyYnVsZW5jZSB0eXBlPSd0dXJidWxlbmNlJyBiYXNlRnJlcXVlbmN5PScwLjI1JyBudW1PY3RhdmVzPScxMCcgc3RpdGNoVGlsZXM9J3N0aXRjaCcvPgoJPC9maWx0ZXI+Cgk8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyBmaWx0ZXI9J3VybCgjZnV6eiknIG9wYWNpdHk9JzAuMTgnLz4KPC9zdmc+);
		background: @blue-dark @background-bodyimage 10px 0 fixed;
	}

	.page {
		display: flex;
		.box-sizing(border-box);

		&-hdr {
			margin-top: 12px;
			padding: 0 1em;
			height: 100%;
			flex: 1 0 300px;
			position: fixed;
			order: 1;
			left: 0;
			&:extend(body);
			background-color+: @blue-darker;


			&-ttl {
				&-nfo {
					.col(5);
					.inline-block;
					margin-top: -4px;
					margin-bottom: 0;
					text-shadow: none;
					color: @grey-light;
					.font-size(@base-type-sm);

					&-desc {
						display: block;
					}

					&-vrsn,
					&-yr {
						display: inline;
					}

					&-yr {
						text-align: right
					}

					&-vrsn {
						text-align: left
					}
				}

				&-logo {
					.size(30%, auto);
					margin-top: -@base-margin;
					position: relative;
					fill: @black;
					opacity: 0.3;
				}
			}
		}

		&-content {
			flex: 1 1 auto;
			order: 2;
		}
	}

	.post {
		.content-defaults {
			.post-border {
				#decor .content-border;
				color: @white-off;
				text-shadow: 1px 1px 0 @grey-dark;
			}
			.post-image {
				border: @border-width solid @white-out;
			}
			.post-active {
				color: @yellow;
			}
		}

		&-content {
			&:extend( .post .content-defaults .post-border );
			.prefix(5);

			&-wrap {
				background-color: fade(@black, 15%);
				position: relative;
				padding: 2.4rem 2.4rem 0.9rem;
				#decor .tile;
			}

			&-bio {
				&-desc {
					overflow: hidden;
				}

				&-img {
					&:extend( .post .content-defaults .post-image );
				}

				.info-lst-itm-bio .lnk {
					&:extend( .post .content-defaults .post-active );
				}
			}

			&-studio {
				&-lst {
					.inline-block;
				}

				&-img {
					&:extend( .post .content-defaults .post-image );
				}

				.info-lst-itm-studio .lnk {
					&:extend( .post .content-defaults .post-active );
				}
			}

			&-news {
				&-img {
					&:extend( .post .content-defaults .post-image );
				}
				.info-lst-itm-news .lnk {
					&:extend( .post .content-defaults .post-active );
				}
			}

			&-discog {
				.info-lst-itm-discog .lnk {
					&:extend( .post .content-defaults .post-active );
				}
			}
		}
	}

	.prod {
		width: calc(~"100% / 1 - 3.5em" );
		min-height: 150px;
	}

	.post {
		&-content {
			margin-bottom: 0;

			&-bio {
				&-img {
					width: 95%;
					float: none;
				}
			}

			&-studio {
				&-lst {
					display: inline-block;
					vertical-align: top;
					width: calc( ~"100% / 1 - 1em" );
				}
			}
		}
	}
}

// 480px
@media only screen and ( min-width: 480px ) {
	.prod {
		width: calc(~"100% / 2 - 3em" );
	}
}

// 640px
@media only screen and ( min-width: 640px ) {
	.page {
		&-nfo {
			&-vrsn,
			&-yr {
				.inline-block;
				width: calc(~"100% / 2");
			}
		}

		&-hdr {}
		&-content {}
	}

	.prod {
		width: calc(~"100% / 3 - 2.5em" );
	}

	.post {
		&-content {
			margin-bottom: @base-margin * 20;

			&-bio {
				&-img {
					width: 25%;
					float: right;
				}
			}
			&-studio {
				&-lst {
					width: calc( ~"100% / 2 - 1em" );
				}
			}
		}
	}
}

// 768px
@media only screen and ( min-width: 768px ) {
	.page {
		&-hdr {
			&-ttl {
				text-align: center;
				&-logo {
					.size( 150 );
					position: static;
				}
			}
		}
	}
}

// 980px
@media only screen and ( min-width: 992px ) {
	.page {
		&-hdr {
			z-index: 20;
			.col(5);
		}

		&-content {
			&-wrap {
				margin-bottom: @base-margin * 20;
			}
		}
	}

	.prod {
		width: calc(~"100% / 6 - 2em" );
	}

	.post {
		&-content {
			&-bio {
				&-img {
					width: 25%;
					float: right;
					margin-left: @base-margin;
					margin-bottom: @base-margin-half;
				}
			}

			&-studio {
				&-lst {
					display: inline-block;
					vertical-align: top;
					width: calc( ~"100% / 3 - 1em" );
				}
			}
		}
	}
}

// 1024px
@media only screen and ( min-width: 1024px ) {
	.page {
		&-hdr {
		}
	}
}

// 1280px
@media only screen and ( min-width: 1280px ) {
	.page {
		&-hdr {
		}
	}
}